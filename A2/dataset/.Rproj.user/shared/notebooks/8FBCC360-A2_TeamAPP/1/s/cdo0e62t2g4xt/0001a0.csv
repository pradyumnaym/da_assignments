"0",""
"0","ds <- read.csv(""ls.csv"")"
"0","top5party = names(tail(sort(table(ds$PARTY)),5))"
"0",""
"0","colorParty = list(""Bharatiya Janata Party"" = ""orange"",""All India Trinamool Congress"" = ""violet"",""All India Anna Dravida Munnetra Kazhagam"" = ""red"", ""Other"" = ""grey"",""Indian National Congress"" = ""green"",""Biju Janata Dal"" = ""mediumturquoise"")"
"0",""
"0","vec = 1:length(ds$PARTY)"
"0",""
"0","ds$PARTY = as.character(ds$PARTY)"
"0",""
"0","for(i in 1:length(ds$PARTY)) {"
"0","  if(!(ds$PARTY[i] %in% top5party)) {"
"0","    vec[i] = colorParty$""Other"""
"0","  }else {"
"0","    vec[i] = colorParty[[ds$PARTY[i]]]"
"0","  }"
"0","}"
"0",""
"0","for(i in 1:length(ds$PARTY)) {"
"0","  if(!(ds$PARTY[i] %in% top5party)) {"
"0","    ds$PARTY[i] =""Other"""
"0","  }"
"0","}"
"0",""
"0","# summary(ds)"
"0","# "
"0","# #NOTE: PLEASE NOTE THAT THIS REQUIRES AN INTERNET CONNECTION AS IT NEEDS TO DOWNLOAD THE DISTRICT/STATE DATA."
"0","# indiaLevel1<- raster::getData(""GADM"", country = ""India"", level = 1)"
"0","# plot(indiaLevel1, main=""India District-wise Map and color of the party"")"
"0","# points(ds$longitude, ds$latitude, col = vec, cex = .5, pch =19 )"
"0","# legend(""topleft"","
"0","#        title = ""Legend"","
"0","#        legend = c(""BJP"",""TMC"",""AIADMK"",""BJD"",""INC"",""Other""),"
"0","#        col =  c(""#276e27"",""#09631e"",""#ff1100"",""#3136d4"",""purple"",""#6b6464""),"
"0","#        cex = 0.7,"
"0","#        pch = 19"
"0","#        )"
"0","library(plotly)"
"0","g <- list("
"0","  scope = 'asia',"
"0","  projection = list(type = 'asia'),"
"0","  showland = TRUE,"
"0","  landcolor = toRGB(""gray95""),"
"0","  subunitcolor = toRGB(""gray85""),"
"0","  countrycolor = toRGB(""gray85""),"
"0","  countrywidth =1,"
"0","  subunitwidth = 1,"
"0","  lonaxis = list(range = c(68,97)),"
"0","  lataxis = list(range = c(8,37))"
"0","  "
"0",")"
"0",""
"0","plot_geo(ds , lat = ~latitude, lon = ~longitude)%>%"
"0","  add_markers("
"0","    text = ~paste("" Constituency:"",CONSTITUENCY,""<br />"", ""Winner:"",WINNER.NAME,""<br />"",""Win Margin:"",MARGIN,""Votes"", ""<br />"",""Party:"",PARTY),"
"0","    color = ds$PARTY, symbol = I(""square""), size = I(8), hoverinfo = ""text"",colors = unlist(colorParty), showlegend = T"
"0","  )%>%"
"0","  layout( "
"0","    title = 'India Lok Sabha Elections Constituency Map                 Legend', geo = g"
"0","  )"
